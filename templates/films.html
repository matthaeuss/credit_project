{% extends 'main.html' %}

{% block title %} List of films {% endblock %}

{% block page %}
    <div class="jumbotron">
      {% if user.is_authenticated %}
      <h1 class="display-4">Welcome {{ user.username }}</h1>
      <a href="{% url 'logout' %}" class="btn btn-success">Logout <i class="fa-solid fa-arrow-right-from-bracket"></i></a>
    {% else %}
        <a href="{% url 'login' %}" class="btn btn-success">Login <i class="fas fa-sign-in-alt"></i></a>
    {% endif %}
    </div>

    <a href="{% url 'new_movie' %}">New film <i class="fa-regular fa-square-plus"></i></a>

    {% if films|length == 0 %}
        <h2>No movies</h2>
    {% else %}
{#        <h2>Number of movies in DB: {{ films|length }}</h2>#}

        {% for film in films %}
            <div class="card" style="card">
              <div class="card-body">
                  <img src="/media/{{ film.poster }}" class="film-poster">
                  <div class="row">
                      <div class="col-9">
                        <h5 class="card-title">{{ film }}</h5>
                     </div>
                     <div class="col-3">
                          <a href="{% url 'edit_movie' film.id %}"><i class="fa-solid fa-2x fa-pen-to-square film-icon"></i></a>
                          <a href="{% url 'delete_movie' film.id %}"><i class="fa-solid fa-2x fa-trash-can film-icon"></i></a>
                     </div>
                  </div>
                  <div class="row">
                    <p class="card-text description">{{ film.description }}</p>
                  </div>


              </div>
            </div>
        {% endfor %}
    {% endif %}
{% endblock %}

